<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  <ModulePrefs title="ED-operativa-filtro.xml"
    description=""
    author_affiliation="Capgemini">
    <Require feature="idi"/>
    <Require feature="locked-domain" />
	<Require feature="dynamic-height"/>
	<Require feature="setprefs" />
  </ModulePrefs>
	<UserPref name="_table_query_url" default_value="" display_name="Data source url (Ej:https://docs.google.com/spreadsheet/ccc?key=0AoYEewut2JmZdG5HM2VLTTdwQUlLdmhnMk1DLXBWZl)" required="true" />
	<UserPref name="titlecomboVideo" display_name="Tilte Box Video" required="true" />
 <Content type="html">
    <![CDATA[
	<script src="https://www.google.com/jsapi" type="text/javascript"></script>

	<style type="text/css">
	  /* @group fonts */
		@font-face {
			font-family: 'BBVA Web Light';
			src:url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-light/web-light.eot');
			src:url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-light/web-light.eot?iefix') format("embedded-opentype"),
				url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-light/web-light.woff') format("woff"),
				url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-light/web-light.ttf') format("truetype"),
				url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-light/web-light.svg#BBVA Web Light') format("svg");
			font-style: normal;
			font-weight: normal;
		}

		@font-face {
			font-family: 'BBVA Web Book';
			src:url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-book/web-book.eot');
			src:url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-book/web-book.eot?iefix') format("embedded-opentype"),
				url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-book/web-book.woff') format("woff"),
				url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-book/web-book.ttf') format("truetype"),
				url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-book/web-book.svg#BBVA Web Book') format("svg");
			font-style: normal;
			font-weight: normal;
		}

		@font-face {
			font-family: 'BBVA Web Medium';
			src:url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-medium/web-medium.eot');
			src:url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-medium/web-medium.eot?iefix') format("embedded-opentype"),
				url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-medium/web-medium.woff') format("woff"),
				url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-medium/web-medium.ttf') format("truetype"),
				url('https://github.com/sopraux/gsites/raw/menu/evolucionaDigital/fonts/web-medium/web-medium.svg#BBVA Web Medium') format("svg");
			font-style: normal;
			font-weight: normal;
		}

		/* @end */
    #listportales {
    }

	button{
		background: #0079C1;
		background: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwNzljMSIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDU1OWQiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+');
		background: -moz-linear-gradient(top, #0079C1 0%, #00559D 100%);
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#0079C1), color-stop(100%,#00559D));
		background: -webkit-linear-gradient(top, #0079C1 0%,#00559D 100%);
		background: -o-linear-gradient(top, #0079C1 0%,#00559D 100%);
		background: -ms-linear-gradient(top, #0079C1 0%,#00559D 100%);
		background: linear-gradient(to bottom, #0079C1 0%,#00559D 100%);
		-webkit-border-radius: .3em;
		-moz-border-radius: .3em;
		border-radius: .3em;
		font-size: 10px;
		text-align: center;
		vertical-align: middle;
		height: 2em;
		padding-left: .9em;
		padding-right: .9em;
		border: .1em solid #00559D;
		color: white;
		cursor: pointer;
		position: relative;
		overflow: visible;
    }

    #textSelects {
        margin-left: 10px;
    }

    label {
        display: block;
    }

    #products {
        float:left;
        margin-left: 10px;
        margin-top: 20px;
    }

    #products label, #channel label {
        font-size: 14px;
        font-weight: bold;
        margin-bottom: 5px;
    }

    #channel {
        float: left;
        margin-left: 20px;
        margin-top: 20px;
    }

    #buttonResults {
        margin-top: 10px;
        margin-left: 10px;
    }

    .clearBoth {
        clear: both;
    }

	p.text {
        font-size: 0.8em;
        color: #3B3B3B;
    }

    </style>

    <div id="listportales"></div>

    <script type="text/javascript">
        var gadgetHelper = null;
        var prefs = new _IG_Prefs();
        var urlTable = prefs.getString("_table_query_url");
        var titlecomboVideo = prefs.getString("titlecomboVideo");
        _IG_RegisterOnloadHandler(loadVisualizationAPI);
        handleQueryResponse("text");

	    function loadVisualizationAPI()
		{
			google.load("visualization", "1", {"packages": ["table"]});
			google.setOnLoadCallback(sendQuery);
		}

		function sendQuery()
        {
        /*           gadgetHelper = new google.visualization.GadgetHelper();
            var opts = {dataType:'jsonp'};
            var query = new google.visualization.Query(urlTable, opts);
            var querytosend = "select * where A <> 'IdNovedad'";
            query.setQuery(querytosend);
            query.send(handleQueryResponse); */
        }

        function handleQueryResponse(response) {
            var html = "";
            html += createComboProduct();
            html += createComboChannel();
            html += "<div class='clearBoth'></div>";
            html += createButtonShowResults();
		    document.getElementById('listportales').innerHTML += html;

		}

        delayRender();
	    function delayRender(){
	        window.setTimeout('showIframes()',2000);
        }

        function createComboProduct() {
            var html = "<div id='products'>";
            html +=         "<label>Servicio o producto</label>";
            html +=         "<select id='productsSelector'><option>first</option><option>second</option></select>";
            html +=    "</div>";
            return html;
        }

        function createComboChannel() {
            var html = "<div id='channel'>";
            html +=         "<label>Canal</label>";
            html +=         "<select id='channelSelector'><option>first</option><option>second</option></select>";
            html +=    "</div>";
            return html;
        }

        function createButtonShowResults() {
            var html = "<div id='buttonResults'>";
            html +=         "<button>Ver resultados</button>";
            html +=    "</div>";
            return html;
        }


  </script>
    ]]>
  </Content>

</Module>
